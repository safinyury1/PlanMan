# Telegram Google Calendar Bot (PlanMan)
Интеллектуальный помощник, который синхронизируется с вашим Google Календарем, выводит список предстоящих встреч и присылает автоматические уведомления.

### Связь с разработчиком (telegram): @remzzik
### Telegram Bot "PlanMan": @plan_man_01bot

## Основные функции
- **OAuth2 Авторизация**: Безопасное подключение к Google аккаунту.
- **Предстоящие встречи**: Просмотр ближайших 10 событий командой `/events`.
- **История**: Просмотр прошедших событий командой `/history`.
- **Умные уведомления**: Автоматические напоминания о встречах.
- **Настройка напоминаний**: Изменение времени уведомления командой `/set_reminder <минуты>`.

## Технологии
- **Python 3.10+**
- **Aiogram 3.x** (библиотека для Telegram Bot API)
- **Google Calendar API v3**
- **SQLite (aiosqlite)** (база данных для хранения токенов и настроек)
- **APScheduler** (планировщик для фоновых задач)

## Установка и запуск

### 1. Клонирование репозитория
Скачайте проект на свой компьютер:
```bash
git clone https://github.com/safinyury1/PlanMan.git
```
```bash
cd PlanMan
```
### 2. Настройка конфигурации
Бот использует два файла конфигурации, которые не включены в репозиторий в целях безопасности:
1.  **credentials.json**: Получите этот файл в [Google Cloud Console](https://console.cloud.google.com/), создав проект и включив **Google Calendar API** (тип приложения: *Desktop App*). Поместите скачанный файл в корень проекта.
2.  **config.py**: Создайте этот файл вручную в корневой папке и добавьте ваш токен, полученный от [@BotFather](https://t.me/BotFather):
```python
BOT_TOKEN = "ВАШ_ТОКЕН_ЗДЕСЬ"
```

### 3. Подготовка папки
Убедитесь, что у вас созданы файлы `main.py`, `database.py`, `calendar_service.py`, `config.py`.

### 4. Установка зависимостей
Выполните команду в терминале:
```bash
pip install aiogram aiosqlite google-api-python-client google-auth-httplib2 google-auth-oauthlib apscheduler
```
### 5. Запуск проекта
Для запуска бота выполните команды:
```bash
python main.py
```
После запуска в консоли должно появиться сообщение: `Бот запущен!`.

### 6. Использование
Перейдите в Telegram по ссылке [t.me/plan_man_01bot](t.me/plan_man_01bot) `/start`. Следуйте инструкциям бота для авторизации вашего Google Календаря.

### Команды бота
- `/start` — Запуск и главное меню.
- `/help` — Описание всех функций и команд.
- `/auth` — Получение ссылки для синхронизации с Google.
- `/events` — Список ближайших 10 встреч.
- `/history` — Список последних 10 завершённых событий.
- `/set_reminder <мин>` — Настройка времени уведомления (например, `/set_reminder <30>`).